
<!-- saved from url=(0079)http://web.cse.iitk.ac.in/users/subhajit/courses/CS330_Jul2012/assignment3.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>CS330: Assignment 3</title>
</head>

<body bgcolor="linen">
<h1>Assignment 3: User Processes</h1>

<b>Deadline: <u>19th October, 2012 (IST) </u></b> 
<br> <br>
A <b>penalty of 20% per day</b> would be imposed for late submission.
<br><br>
This assignment is to be implemented in <b>three</b> person teams.


<h2>Objective</h2>

Implement functionality into Pintos to run user programs. The implementation should support multiprogramming and virtual memory.

You would have to implement the following components for it:

<h3>Processes</h3>
Implement (or complete, if partially implemented) the following system calls:
<li><tt>fork()</tt>: create a process</li>
<li><tt>exec(char *filename)</tt>: execute the program pointed to by <tt>filename</tt></li>
<!--<li><tt>SysStats()</tt>: return statistics about the current processes in the system. <tt>SysStats()</tt> should return a pointer to the <tt>SysInfo</tt> structure (provided below) 
<b>and</b> print information on the screen in the following format:  </li>
<br>
<TABLE BORDER=3 FRAME=BOX RULES=NONE>
<tr><td><tt>
NumPocs: [number of processes]<br>
proc1-name: READY<br>
proc2-name: RUNNING<br>
proc3-name: READY<br>
proc4-name: BLOCKED<br>
proc5-name: READY<br>
.<br>
.<br>
.
</tt></td></tr></table>
<tt> <br> <br>
<TABLE BORDER=3 FRAME=BOX RULES=NONE>
<tr><td>
enum ProcStatus {JUST_CREATED, RUNNING, READY, BLOCKED}; <br>
<br>

typedef struct { <br>
&nbsp;&nbsp;char* name; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// name of the program <br>
&nbsp;&nbsp;ProcStatus status; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// current status of the process  <br>
} ProcInfo; <br>
 <br>

typedef struct { <br>
&nbsp;&nbsp;int totalticks; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Total time running Nachos <br>
&nbsp;&nbsp;int idleticks; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Time spent idle (no threads to run) <br>
&nbsp;&nbsp;int systemticks; &nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Time spent executing system code <br>
&nbsp;&nbsp;int userticks; &nbsp;&nbsp;&nbsp;      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;  // Time spent executing user code <br>
&nbsp;&nbsp;int numprocs; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;   // Total number of processes in processArray <br>
&nbsp;&nbsp;ProcInfo *proc; &nbsp;&nbsp;  &nbsp;&nbsp;  &nbsp;&nbsp;  &nbsp;&nbsp;   // Array of "numprocs" number of "ProcInfo" structures providing information about each process in the system <br>
} SysInfo; 
<br>
</td></tr></table>
</tt>-->

<br>
The processes need not be multithreaded. You should use an RR scheduler to schedule the processes.

<h3>Virtual Memory</h3>
Implement virtual memory management via <b>pure demand paging</b>. The backing store can be emulated by a sufficiently big block of memory maintained in the kernel.

<h3>Shared Memory</h3>
Implement the following system calls to enable shared memory:
<li> <tt>shared_memory_open(int size)</tt>: returns an address to a shared memory of the specified size</li>
<li> <tt>shared_memory_close()</tt>: close the shared memory</li>
<br>
<u>Assume that the system can provide only one shared memory per process with a maximum size equal to one page.</u>
<br><br>
Remember: Reads/writes to the shared memory region should be possible with standard load/store instructions (i.e. no system call should be provided to read/write to/from shared memory).

<h2>Deliverables</h2>

The Assignment is to be submitted in <tt>{rollnumber1_rollnumber2_rollnumber3}.tar.gz</tt> format. The compressed file should contain following -
<ul>
<li><b>Source Code: </b>Complete Pintos source code <b><i>after cleaning off all binaries</i></b> (<b><i>do not include the simulators</i></b>). 
The directory structure inside the archive should be "{rollnumber1_rollnumber2_rollnumber3}/pintos/code/*". Your main program should be saved as "{rollnumber1_rollnumber2_rollnumber3}/pintos/newprogs/assignment2.c" inside the archive. 

</li><li><b>Report: </b>A <b><i>maximum of five page</i></b> PDF file that briefly describes a brief summary of POSIX message queues and your implementation in Pintos. The report should be saved as "{rollnumber1_rollnumber2_rollnumber3}/pintos/report.pdf".
</li></ul>
<h2>Additional Instructions</h2>
<li>The total size of submission <b><i>should not exceed 1MB</i></b>.</li>
<li>The quality of both the source code and the report would affect your marks.</li> 
<li><b><i>Points may be deducted for not following the submission conventions</i></b>.</li>

<br>
<table border="3" frame="BOX" rules="NONE">
<tbody><tr><td>
<b><i>Discussion is healthy, copying is not</i></b>. You are encouraged to discuss the assignments, but you must implement the assignments individually (within your team). It is fairly easy to detect copying automatically. 
<b>If any two submissions are found with "similar" pieces of code, the respective students will be failed in the course (with no concern as to who was the "source").</b> 
It is your responsibility to protect your assignment from copying, and no pleas regarding the same would be heeded to.
</td></tr>
</tbody></table>

<br>

<b><i>Bonus Points</i></b> may be awarded for innovative ideas.


<h2>Effort declaration</h2>
You need to provide a declaration of the effort you put in this assignment. For the same, you must fill in the entry corresponding to assignment #1 and carry it to your viva. The effort declaration form can be found <a href="http://web.cse.iitk.ac.in/users/subhajit/courses/CS330_Jul2012/EffortSheet.pdf">here</a>.

<h2>Submission details</h2>
Submit it <a href="http://web.cse.iitk.ac.in/users/cs330/upload.html">here</a>.
<!--You should mail your submission (as per the guidelines provided above) <b>to your assigned TA</b>. (Each team will be assigned a TA who will perform the grading of your submissions.)-->

<h2>Queries</h2>
Feel free to contact me (in person or via email) or meet your TAs about any queries that you may have.






<img src="./CS330  Assignment 3_files/progeridondu.png" style="width: 0px; height: 0px;"></body></html>